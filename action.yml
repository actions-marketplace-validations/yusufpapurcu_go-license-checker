name: 'Go License Checker'
author: 'yusufpapurcu'
description: 'Check licenses in your go package'
runs:
  using: "composite"
  steps:
    - name: Set up Go 1.16
      uses: actions/setup-go@v2
      with:
        go-version: 1.16
      id: go

    - name: Get google/go-licenses package
      run: go get github.com/google/go-licenses
      shell: bash

    - name: Run Check
      run: go-licenses check .
      shell: bash
    
    - name: Get them as csv
      run: go-licenses csv .
      shell: bash
